# プロトタイプ要件定義ドキュメント
## 夫婦のイベント進行管理アプリ「Hanareba（はなれば）」

### 1. プロジェクト概要

**プロジェクト名**: Hanareba（はなれば）  
**バージョン**: プロトタイプ v1.0  
**作成日**: 2025年07月  
**対象**: 結婚〜出産前後の20〜40代夫婦  

### 2. プロトタイプの目的

夫婦のライフイベント進行管理における「論点起点」のアプローチの有効性を検証し、ユーザーの行動パターンとニーズを把握することを目的とします。

### 3. プロトタイプ範囲

#### 3.1 含む機能（MVP）
- イベント登録・管理機能
- 論点管理機能
- タスク管理機能
- 合意ログ機能
- 基本的な通知機能

#### 3.2 含まない機能
- Splitmate連携
- カレンダー連携
- GPT機能
- 親族共有モード
- 感情ログ機能

### 4. ユーザーストーリー

#### 4.1 主要ユーザーストーリー

**US-001: イベント登録**
```
As a 夫婦の一人
I want to 新しいライフイベントを登録できる
So that 結婚後の重要なイベントを管理できる
```

**US-002: 論点管理**
```
As a 夫婦の一人
I want to イベントごとの論点を整理できる
So that 話し合いのポイントを明確にできる
```

**US-003: 選択肢管理**
```
As a 夫婦の一人
I want to 各論点に選択肢を追加できる
So that 具体的な選択肢を比較検討できる
```

**US-004: 合意記録**
```
As a 夫婦の一人
I want to 合意した内容を記録できる
So that 決定事項を履歴として残せる
```

**US-005: タスク管理**
```
As a 夫婦の一人
I want to イベントに関連するタスクを管理できる
So that 具体的な行動項目を整理できる
```

### 5. 機能要件

#### 5.1 イベント管理機能

**要件ID**: F-001  
**機能名**: イベント登録・管理  
**詳細**:
- テンプレートイベント（入籍、結婚式、住居購入、出産、帰省）から選択
- カスタムイベントの作成
- イベントの編集・削除
- イベント一覧表示

**入力項目**:
- イベント名（必須）
- 予定日（任意）
- 予算（任意）
- メモ（任意）

#### 5.2 論点管理機能

**要件ID**: F-002  
**機能名**: 論点管理  
**詳細**:
- イベントごとの論点一覧表示
- 論点の追加・編集・削除
- 論点のステータス管理（未合意/合意済）

**入力項目**:
- 論点名（必須）
- 説明（任意）
- 優先度（高/中/低）

#### 5.3 選択肢管理機能

**要件ID**: F-003  
**機能名**: 選択肢管理  
**詳細**:
- 論点ごとの選択肢追加・編集・削除
- 選択肢へのコメント・メモ機能
- 選択肢の選択・合意記録

**入力項目**:
- 選択肢名（必須）
- 説明（任意）
- コメント（任意）

#### 5.4 合意ログ機能

**要件ID**: F-004  
**機能名**: 合意ログ  
**詳細**:
- 合意した内容の履歴記録
- 合意日時の記録
- 合意内容の変更履歴

#### 5.5 タスク管理機能

**要件ID**: F-005  
**機能名**: タスク管理  
**詳細**:
- イベント内でのタスク登録・編集・削除
- タスクの担当者設定
- タスクの期限設定
- タスクの進捗ステータス管理

**入力項目**:
- タスク名（必須）
- 担当者（必須）
- 期限（任意）
- 関連論点（任意）
- 進捗ステータス（未着手/進行中/完了）

### 6. 非機能要件

#### 6.1 パフォーマンス
- ページ読み込み時間: 3秒以内
- 同時接続ユーザー数: 100ユーザー

#### 6.2 セキュリティ
- ユーザー認証機能
- データの暗号化
- セッション管理

#### 6.3 ユーザビリティ
- 直感的なUI/UX
- レスポンシブデザイン対応
- アクセシビリティ対応

### 7. 技術要件

#### 7.1 フロントエンド
- React.js / Next.js
- TypeScript
- Tailwind CSS
- レスポンシブデザイン

#### 7.2 バックエンド
- Node.js / Express
- TypeScript
- RESTful API

#### 7.3 データベース
- PostgreSQL
- Prisma ORM

#### 7.4 認証
- NextAuth.js
- JWT

### 8. 画面設計

#### 8.1 主要画面一覧

1. **ログイン画面**
   - メールアドレス・パスワード入力
   - 新規登録リンク

2. **ダッシュボード**
   - イベント一覧表示
   - 最近の合意事項
   - 期限が近いタスク

3. **イベント詳細画面**
   - イベント基本情報
   - 論点一覧
   - タスク一覧
   - 合意履歴

4. **論点詳細画面**
   - 論点情報
   - 選択肢一覧
   - 合意状況

5. **タスク管理画面**
   - タスク一覧
   - タスク詳細
   - 進捗更新

### 9. データモデル

#### 9.1 主要エンティティ

**User（ユーザー）**
- id: string
- email: string
- name: string
- createdAt: Date

**Event（イベント）**
- id: string
- userId: string
- name: string
- scheduledDate: Date
- budget: number
- memo: string
- createdAt: Date

**Issue（論点）**
- id: string
- eventId: string
- name: string
- description: string
- priority: string
- status: string
- createdAt: Date

**Option（選択肢）**
- id: string
- issueId: string
- name: string
- description: string
- isSelected: boolean
- createdAt: Date

**Task（タスク）**
- id: string
- eventId: string
- name: string
- assignee: string
- dueDate: Date
- status: string
- createdAt: Date

**Agreement（合意）**
- id: string
- optionId: string
- agreedAt: Date
- memo: string

### 10. プロトタイプ評価指標

#### 10.1 定量的指標
- 平均イベント登録数: 3件以上/ユーザー
- 平均合意済み論点数: 5件以上/イベント
- 平均タスク完了率: 70%以上
- 継続率（W1 retention）: 50%以上

#### 10.2 定性的指標
- ユーザーの操作の直感性
- 論点管理の有用性
- 合意形成プロセスの改善度
- UI/UXの満足度

### 11. 開発スケジュール

#### Phase 1: 基本機能開発（4週間）
- Week 1-2: 認証・イベント管理機能
- Week 3-4: 論点・選択肢管理機能

#### Phase 2: タスク・合意機能開発（3週間）
- Week 5-6: タスク管理機能
- Week 7: 合意ログ機能

#### Phase 3: UI/UX改善・テスト（2週間）
- Week 8: UI/UX改善
- Week 9: テスト・バグ修正

### 12. リスク管理

#### 12.1 技術リスク
- **リスク**: データベース設計の不備
- **対策**: 事前にER図を作成し、レビュー実施

#### 12.2 スケジュールリスク
- **リスク**: 開発期間の延長
- **対策**: 優先度の低い機能は後回しにし、MVPに集中

#### 12.3 ユーザビリティリスク
- **リスク**: ユーザーが直感的に使えない
- **対策**: プロトタイプ段階でのユーザーテスト実施

### 13. 今後の拡張計画

#### 13.1 短期拡張（3ヶ月以内）
- Splitmate連携機能
- カレンダー連携機能
- 通知機能の強化

#### 13.2 中期拡張（6ヶ月以内）
- GPTによる論点整理機能
- 感情ログ機能
- 親族共有モード

#### 13.3 長期拡張（1年以内）
- モバイルアプリ開発
- 多言語対応
- 高度な分析機能

---

**文書作成者**: AI Assistant  
**最終更新日**: 2024年12月  
**承認者**: プロジェクトマネージャー 
